<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>记事本</title>
	<script src="http://apps.bdimg.com/libs/angular.js/1.4.6/angular.min.js"></script>
</head>
<body ng-app="myNoteApp" ng-controller="myNoteCtrl">
	<h2>我的笔记</h2>
	<textarea cols="30" rows="10" ng-model="message"></textarea>
	<p>
		<button ng-click="save()">保存</button>
		<button ng-click="clear()">清除</button>
	</p>
	<p>剩余字数：<span ng-bind="left()"></span></p>

	<form ng-submit="todoAdd()">
		<input type="text" ng-model="todoInput" size="50" placeholder="新增">
		<input type="submit" value="新增">
	</form>
	<hr>
	<div ng-repeat="x in todoList">
		<input type="checkbox" ng-model="x.done"><span ng-bind="x.todoText"></span>
	</div>
	<p><button ng-click="remove()">删除记录</button></p>
<script>
	var app = angular.module('myNoteApp',[]);
	app.controller('myNoteCtrl',function($scope){
		$scope.message = "";
		$scope.left = function(){
			return 100 - $scope.message.length;
		};
		$scope.clear = function(){
			$scope.message = "";
		}
		$scope.save = function(){
			alert('Note Saved');
		}

		$scope.todoList = [{todoText:'clean House',done:false}];
		$scope.todoAdd = function(){
			$scope.todoList.push({todoText:$scope.todoInput,done:false});
			$scope.todoInput = '';
		}
		$scope.remove = function(){
			var oldList = $scope.todoList;
			$scope.todoList = [];
			angular.forEach(oldList,function(x){
				if(!x.done){
					$scope.todoList.push(x);
				}
			})
		}
	})
</script>
</body>
</html>